(this["webpackJsonpamazon-clone-challenge"]=this["webpackJsonpamazon-clone-challenge"]||[]).push([[0],{48:function(n,e,t){},49:function(n,e,t){},60:function(n,e,t){"use strict";t.r(e);var c,i,a,r,o,d,s,l,j,p,b,x,u=t(2),h=t.n(u),g=t(27),O=t.n(g),f=(t(48),t(6)),m=t(24),v=(t(49),t(7)),y=t(37),w=t.n(y),k=t(38),I=t.n(k),S=t(36),z=t.n(S),C=t(23),A=t(3);var D,E,F,q,L,P,T,B,M,R,G,N=function(n){var e=n.cartItems,t=n.user,c=n.signOut;return Object(A.jsxs)(H,{children:[Object(A.jsx)(J,{children:Object(A.jsx)(C.b,{to:"/",children:Object(A.jsx)("img",{src:"https://i.imgur.com/7I9Was5.png"})})}),Object(A.jsxs)(U,{children:[Object(A.jsx)(z.a,{}),Object(A.jsxs)(_,{children:[Object(A.jsx)(K,{children:"Hello"}),Object(A.jsx)(Y,{children:"Select Your Address"})]})]}),Object(A.jsxs)($,{children:[Object(A.jsx)(Q,{type:"text"}),Object(A.jsx)(W,{children:Object(A.jsx)(w.a,{})})]}),Object(A.jsxs)(V,{children:[Object(A.jsxs)(_,{onClick:c,children:[Object(A.jsxs)(K,{children:["Hello, ",t.name]}),Object(A.jsx)(Y,{children:"Account & Lists"})]}),Object(A.jsxs)(_,{children:[Object(A.jsx)(K,{children:"Returns"}),Object(A.jsx)(Y,{children:"& Orders"})]}),Object(A.jsx)(X,{children:Object(A.jsxs)(C.b,{to:"/cart",children:[Object(A.jsx)(I.a,{}),Object(A.jsx)(Z,{children:function(){var n=0;return e.forEach((function(e){n+=e.product.quantity})),n}()})]})})]})]})},H=v.a.div(c||(c=Object(f.a)(["\n    height: 60px;\n    background-color: #0F1111;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    color: white;\n"]))),J=v.a.div(i||(i=Object(f.a)(["\n    img {\n        width: 100px;\n        margin-left: 11px;\n    }\n"]))),U=v.a.div(a||(a=Object(f.a)(["\n    padding-left: 9px;\n    display: flex;\n    align-items: center;\n    \n"]))),K=v.a.div(r||(r=Object(f.a)(["\n\n"]))),Y=v.a.div(o||(o=Object(f.a)(["\n    font-weight: 700;\n"]))),$=v.a.div(d||(d=Object(f.a)(["\n    display: flex;\n    flex-grow: 1;\n    height: 40px;\n    border-radius: 4px;\n    overflow: hidden;\n    margin-left: 4px;\n    background-color: white;\n    :focus-within {\n        box-shadow: 0 0 0 3px #F90;\n    }\n"]))),Q=v.a.input(s||(s=Object(f.a)(["\n    flex-grow: 1;\n    border: 0;\n    :focus {\n        outline: none;\n    }\n"]))),W=v.a.div(l||(l=Object(f.a)(["\n    background-color: #febd69;\n    width: 45px;\n    color: black;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    \n"]))),V=v.a.div(j||(j=Object(f.a)(["\n    display: flex;\n    \n"]))),_=v.a.div(p||(p=Object(f.a)(["\n    // TRouBLe\n    padding: 10px 9px 10px 9px;\n    cursor: pointer;\n"]))),X=v.a.div(b||(b=Object(f.a)(["\n    display: flex;\n    a {\n        display: flex;\n        align-items: center;\n        padding-right: 9px;\n        color: white;\n        text-decoration: none;\n    }\n"]))),Z=v.a.div(x||(x=Object(f.a)(["\n    padding-left: 4px;\n    font-weight: 700;\n    color: #f08804;\n\n"]))),nn=t(25),en=(nn.a.initializeApp({apiKey:"AIzaSyDMFiT6HKBAEvGV-AfaU3SL8Mc8z3R3nnM",authDomain:"clone-a3c85.firebaseapp.com",projectId:"clone-a3c85",storageBucket:"clone-a3c85.appspot.com",messagingSenderId:"903876011424",appId:"1:903876011424:web:8ea4c6531ba3b7e51070c5",measurementId:"G-7LBQ97KC1N"}),nn.a.firestore()),tn=nn.a.auth(),cn=new nn.a.auth.GoogleAuthProvider,an=function(n){for(var e=n.id,t=n.item,c=[],i=1;i<Math.max(t.quantity+1,20);i++)c.push(Object(A.jsxs)("option",{value:i,children:[" Qty: ",i]}));return Object(A.jsxs)(rn,{children:[Object(A.jsx)(on,{children:Object(A.jsx)("img",{src:t.image})}),Object(A.jsxs)(dn,{children:[Object(A.jsx)(sn,{children:Object(A.jsx)("h2",{children:t.name})}),Object(A.jsxs)(ln,{children:[Object(A.jsx)(jn,{children:Object(A.jsx)("select",{value:t.quantity,onChange:function(n){return t=n.target.value,void en.collection("cartItems").doc(e).update({quantity:parseInt(t)});var t},children:c})}),Object(A.jsx)(pn,{onClick:function(n){n.preventDefault(),en.collection("cartItems").doc(e).delete()},children:"Delete"})]})]}),Object(A.jsxs)(bn,{children:["$",t.price]})]})},rn=v.a.div(D||(D=Object(f.a)(["\n    padding-top: 12px;\n    padding-bottom: 12px;\n    display: flex;\n    border-bottom: 1px solid #DDD;\n"]))),on=v.a.div(E||(E=Object(f.a)(["\n    width: 180px;\n    height: 180px;\n    flex-shrink: 0;\n    flex-grow: 0;\n    margin-right: 16px;\n    img{\n        object-fit: contain;\n        height: 100%;\n        width: 100%;\n    }\n"]))),dn=v.a.div(F||(F=Object(f.a)(["\n    flex-grow: 1;\n"]))),sn=v.a.div(q||(q=Object(f.a)(["\n    color: #007185;\n    h2 {\n        font-size: 18px;\n    }\n"]))),ln=v.a.div(L||(L=Object(f.a)(["\n    display: flex;\n    margin-top: 4px;\n    align-items: center;\n"]))),jn=v.a.div(P||(P=Object(f.a)(["\n    select {\n        border-radius: 7px;\n        background-color: #F0F2F2; \n        padding: 8px;\n        box-shadow: 0 2px 5px rgba(15,17,17,.15);\n\n        :focus {\n            outline: none;\n        }\n    }\n"]))),pn=v.a.div(T||(T=Object(f.a)(["\n    color: #007185;\n    margin-left: 16px;\n    cursor: pointer;\n"]))),bn=v.a.div(B||(B=Object(f.a)(["\n    font-size: 18px;\n    font-weight: 700;\n    margin-left: 16px;\n"])));var xn,un,hn,gn=function(n){var e=n.cartItems;return Object(A.jsxs)(On,{children:[Object(A.jsx)(fn,{children:"Shopping Cart"}),Object(A.jsx)("hr",{}),Object(A.jsx)(mn,{children:e.map((function(n){return Object(A.jsx)(an,{id:n.id,item:n.product})}))})]})},On=v.a.div(M||(M=Object(f.a)(["\n    flex: 0.8;\n    padding: 20px;\n    margin-right: 18px;\n    background-color: white;\n"]))),fn=v.a.h1(R||(R=Object(f.a)(["\n    margin-bottom: 8px;\n"]))),mn=v.a.div(G||(G=Object(f.a)(["\n"]))),vn=t(42);var yn,wn=function(n){var e=n.getTotalPrice,t=n.getCount;return Object(A.jsxs)(kn,{children:[Object(A.jsxs)(In,{children:["Subtotal (",t()," items):",Object(A.jsx)(vn.a,{value:e(),displayType:"text",thousandSeparator:!0,prefix:"$"})]}),Object(A.jsx)(Sn,{children:"Proceed to checkout"})]})},kn=v.a.div(xn||(xn=Object(f.a)(["\n    flex: 0.3;\n    padding: 20px;\n    background-color: white;\n"]))),In=v.a.h2(un||(un=Object(f.a)(["\n    margin-bottom: 16px;\n"]))),Sn=v.a.button(hn||(hn=Object(f.a)(["\n    background-color: #f0c14b;\n    width: 100%;\n    // vertical - horizontal\n    padding: 4px 8px;\n    border: 2px solid #a88734;\n    border-radius: 4px;\n    cursor: pointer;\n    font-size: 16px;\n    :hover {\n        background:  #ddb347;\n    }\n"])));var zn,Cn,An,Dn,En,Fn,qn,Ln=function(n){var e=n.cartItems;return Object(A.jsxs)(Pn,{children:[Object(A.jsx)(gn,{cartItems:e}),Object(A.jsx)(wn,{getCount:function(){var n=0;return e.forEach((function(e){n+=e.product.quantity})),n},getTotalPrice:function(){var n=0;return e.forEach((function(e){n+=e.product.price*e.product.quantity})),n}})]})},Pn=v.a.div(yn||(yn=Object(f.a)(["\n    display: flex;\n    //TRouBLe\n    padding: 14px 18px 0 18px;\n    align-items: flex-start;\n"])));var Tn,Bn,Mn,Rn=function(n){var e=n.title,t=n.price,c=n.rating,i=n.image,a=n.id;return Object(A.jsxs)(Gn,{children:[Object(A.jsx)(Nn,{children:e}),Object(A.jsxs)(Hn,{children:["$",t]}),Object(A.jsx)(Jn,{children:Array(c).fill().map((function(n){return Object(A.jsx)("p",{children:"\u2b50"})}))}),Object(A.jsx)(Un,{src:i}),Object(A.jsx)(Kn,{children:Object(A.jsx)(Yn,{onClick:function(){console.log(a);var n=en.collection("cartItems").doc(a);n.get().then((function(c){console.log(c),c.exists?n.update({quantity:c.data().quantity+1}):en.collection("cartItems").doc(a).set({name:e,image:i,price:t,quantity:1})}))},children:"Add to Cart"})})]})},Gn=v.a.div(zn||(zn=Object(f.a)(["\n    background-color: white;\n    z-index: 100;\n    flex: 1;\n    padding: 20px;\n    margin: 10px;\n    max-height: 400px;\n    display: flex;\n    flex-direction: column;\n"]))),Nn=v.a.span(Cn||(Cn=Object(f.a)([""]))),Hn=v.a.span(An||(An=Object(f.a)(["\n    font-weight: 500;\n    margin-top: 3px;\n"]))),Jn=v.a.div(Dn||(Dn=Object(f.a)(["\n    display: flex;\n"]))),Un=v.a.img(En||(En=Object(f.a)(["\n    max-height: 200px;\n    object-fit: contain;\n"]))),Kn=v.a.div(Fn||(Fn=Object(f.a)(["\n    margin-top: 12px;\n    display: grid;\n    place-items: center;\n"]))),Yn=v.a.button(qn||(qn=Object(f.a)(["\n    width: 100px;\n    height: 30px;\n    background-color: #f0c14b;\n    border: 2px solid #a88734;\n    border-radius: 2px;\n    cursor: pointer;\n"])));var $n,Qn,Wn,Vn,_n=function(){var n=Object(u.useState)([]),e=Object(m.a)(n,2),t=e[0],c=e[1];return Object(u.useEffect)((function(){console.log("Call products"),en.collection("products").onSnapshot((function(n){var e;e=n.docs.map((function(n){return{id:n.id,product:n.data()}})),c(e)}))}),[]),Object(A.jsxs)(Xn,{children:[Object(A.jsx)(Zn,{}),Object(A.jsx)(ne,{children:t.map((function(n){return Object(A.jsx)(Rn,{title:n.product.name,price:n.product.price,rating:n.product.rating,image:n.product.image,id:n.id})}))})]})},Xn=v.a.div(Tn||(Tn=Object(f.a)(["\n    max-width: 1500px;\n    margin: 0 auto;\n"]))),Zn=v.a.div(Bn||(Bn=Object(f.a)(["\n    background-image: url('https://i.imgur.com/SYHeuYM.jpg');\n    min-height: 600px;\n    background-position: center;\n    background-size: cover;\n    z-index: 1;\n    mask-image: linear-gradient(to bottom, rgba(0, 0, 0, 1), rgba(0, 0, 0, 0));\n"]))),ne=v.a.div(Mn||(Mn=Object(f.a)(["\n    padding-left: 10px;\n    padding-right: 10px;\n    margin-top: -350px;\n    display: flex;\n"]))),ee=t(11);var te,ce=function(n){var e=n.setUser;return Object(A.jsx)(ie,{children:Object(A.jsxs)(ae,{children:[Object(A.jsx)(re,{src:"http://media.corporate-ir.net/media_files/IROL/17/176060/Oct18/Amazon%20logo.PNG"}),Object(A.jsx)("h1",{children:"Sign into Amazon"}),Object(A.jsx)(oe,{onClick:function(){tn.signInWithPopup(cn).then((function(n){var t=n.user,c={name:t.displayName,email:t.email,photo:t.photoURL};localStorage.setItem("user",JSON.stringify(c)),e(c)})).catch((function(n){alert(n.message)}))},children:"Sign in with Google"})]})})},ie=v.a.div($n||($n=Object(f.a)(["\n    width: 100%;\n    height: 100vh;\n    background-color: #f8f8f8;\n    display: grid;\n    place-items: center;\n"]))),ae=v.a.div(Qn||(Qn=Object(f.a)(["\n    padding: 100px;\n    background-color: white;\n    border-radius: 5px;\n    box-shadow: 0 1px 3px gray;\n    text-align: center;\n"]))),re=v.a.img(Wn||(Wn=Object(f.a)(["\n    height: 100px;\n    margin-bottom: 40px;\n"]))),oe=v.a.button(Vn||(Vn=Object(f.a)(["\n    margin-top: 50px;\n    background-color: #f0c14b;\n    height: 40px;\n    border: 2px solid #a88734;\n    border-radius: 4px;\n    padding: 4px 8px;\n    cursor: pointer;\n"])));var de=function(){var n=Object(u.useState)(JSON.parse(localStorage.getItem("user"))),e=Object(m.a)(n,2),t=e[0],c=e[1],i=Object(u.useState)([]),a=Object(m.a)(i,2),r=a[0],o=a[1];return Object(u.useEffect)((function(){en.collection("cartItems").onSnapshot((function(n){var e=n.docs.map((function(n){return{id:n.id,product:n.data()}}));o(e)}))}),[]),Object(A.jsx)(C.a,{children:t?Object(A.jsxs)(se,{children:[Object(A.jsx)(N,{signOut:function(){tn.signOut().then((function(){localStorage.removeItem("user"),c(null)}))},user:t,cartItems:r}),Object(A.jsxs)(ee.c,{children:[Object(A.jsx)(ee.a,{path:"/cart",children:Object(A.jsx)(Ln,{cartItems:r})}),Object(A.jsx)(ee.a,{path:"/",children:Object(A.jsx)(_n,{})})]})]}):Object(A.jsx)(ce,{setUser:c})})},se=v.a.div(te||(te=Object(f.a)(["\n  background-color: #EAEDED;\n"]))),le=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,72)).then((function(e){var t=e.getCLS,c=e.getFID,i=e.getFCP,a=e.getLCP,r=e.getTTFB;t(n),c(n),i(n),a(n),r(n)}))};O.a.render(Object(A.jsx)(h.a.StrictMode,{children:Object(A.jsx)(de,{})}),document.getElementById("root")),le()}},[[60,1,2]]]);
//# sourceMappingURL=main.245caf4d.chunk.js.map